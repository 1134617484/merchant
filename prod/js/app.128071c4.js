(function(e){function n(n){for(var a,o,u=n[0],c=n[1],s=n[2],d=0,l=[];d<u.length;d++)o=u[d],r[o]&&l.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(n);while(l.length)l.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,o=1;o<t.length;o++){var u=t[o];0!==r[u]&&(a=!1)}a&&(i.splice(n--,1),e=c(c.s=t[0]))}return e}var a={},o={app:0},r={app:0},i=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-04c59f69":"df3baea5","chunk-0f12f62e":"fbe61ca8","chunk-14cdecf6":"fece75d6","chunk-18155327":"766086e7","chunk-2d215fad":"a157236e","chunk-2d22d746":"7ad54e92","chunk-4976cb36":"0811bca9","chunk-4d79cdd3":"505acc7c","chunk-5e938b57":"aa0d1f44","chunk-66d407a8":"b2e443de","chunk-7afdcc78":"ce66b7f2","chunk-8b49f880":"3cf5f253","chunk-93dac020":"d035040a","chunk-9f5277b4":"975279b1","chunk-c9910344":"eb5adaf1","chunk-e80a73aa":"d78730f0"}[e]+".js"}function c(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var n=[],t={"chunk-04c59f69":1,"chunk-0f12f62e":1,"chunk-14cdecf6":1,"chunk-18155327":1,"chunk-4976cb36":1,"chunk-4d79cdd3":1,"chunk-5e938b57":1,"chunk-66d407a8":1,"chunk-7afdcc78":1,"chunk-8b49f880":1,"chunk-93dac020":1,"chunk-9f5277b4":1,"chunk-c9910344":1,"chunk-e80a73aa":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise(function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-04c59f69":"0e433876","chunk-0f12f62e":"413554f2","chunk-14cdecf6":"28959ada","chunk-18155327":"afc47516","chunk-2d215fad":"31d6cfe0","chunk-2d22d746":"31d6cfe0","chunk-4976cb36":"afa61bf0","chunk-4d79cdd3":"78dad570","chunk-5e938b57":"4c23ebf5","chunk-66d407a8":"7d3c6749","chunk-7afdcc78":"a9f6dfd8","chunk-8b49f880":"d13adeab","chunk-93dac020":"83320864","chunk-9f5277b4":"98d6244c","chunk-c9910344":"1696c308","chunk-e80a73aa":"8c345a50"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===a||d===r))return n()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===a||d===r)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var a=n&&n.target&&n.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[e],f.parentNode.removeChild(f),t(i)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){o[e]=0}));var a=r[e];if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(function(n,t){a=r[e]=[n,t]});n.push(a[2]=i);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=u(e),s=function(n){d.onerror=d.onload=null,clearTimeout(l);var t=r[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");i.type=a,i.request=o,t[1](i)}r[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(n)},c.m=e,c.c=a,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)c.d(t,a,function(n){return e[n]}.bind(null,a));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var f=d;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"07a4":function(e,n,t){"use strict";var a=t("6e6d"),o=t("591a"),r={},i={},u={};a["default"].use(o["a"]);n["a"]=new o["a"].Store({state:{token:"",isLodingLogin:!1,url:"",title:""},mutations:r,getters:i,actions:u})},"0e06":function(e,n,t){"use strict";var a=t("641c"),o=t.n(a);o.a},"365c":function(e,n,t){"use strict";t.d(n,"b",function(){return f}),t.d(n,"c",function(){return p}),t.d(n,"d",function(){return m}),t.d(n,"a",function(){return h}),t.d(n,"j",function(){return g}),t.d(n,"i",function(){return v}),t.d(n,"e",function(){return k}),t.d(n,"g",function(){return b}),t.d(n,"h",function(){return w}),t.d(n,"f",function(){return L});var a=t("2427"),o=t.n(a),r=t("51a4"),i=t("6e6d"),u=t("9883"),c=t("07a4");t("fed1");o.a.defaults.headers={"X-Requested-With":"XMLHttpRequest"},o.a.defaults.baseURL="http://api.xinggeyun.com";var s,d={};o.a.CancelToken;o.a.interceptors.request.use(function(e){return d[e.url]?(d[e.url]("操作取消"),d[e.url]=s):d[e.url]=s,"/api/token/login"!=e.url&&(e.headers.Authorization="Bearer ".concat(window.localStorage.getItem("token"))),e},function(e){return r["Promise"].reject(e)});var l=function(e){var n=e.response,t=e.code;e.message?e.message:n.message;n.code==t&&(window.localStorage.removeItem("userInfo"),window.localStorage.removeItem("token"),c["a"].state.isLodingLogin=!1,u["a"].push("/login"))};function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new r["Promise"](function(t,a){o.a.get(e,{params:n}).then(function(e){t(e)}).catch(function(e){a(e)})})}function p(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new r["Promise"](function(t,a){o.a.post(e,n).then(function(e){t(e.data)},function(e){a(e)})})}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new r["Promise"](function(t,a){o.a.put(e,n).then(function(e){t(e.data)},function(e){a(e)})})}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new r["Promise"](function(t,a){o.a.delete(e,n).then(function(e){t(e.data)},function(e){a(e)})})}o.a.interceptors.response.use(function(e){return e},function(e){if(e&&e.response){var n=e.response.data;console.log("统一错误处理: ",n),402==n.code&&l({response:n,code:"402"}),(new i["default"]).$message({showClose:!0,duration:1e3,message:n.message,type:"warning"})}return r["Promise"].reject(e)});var g=function(e){return p("/api/token/login",e)},v=function(){return f("/api/token/me")},k=function(e){return o.a.post("/api/role",e)},b=function(){return o.a.get("/api/role")},w=function(e){return o.a.get("/api/role",{params:e})},L=function(e){return o.a.put("/api/role/"+e.id,e)}},"56d7":function(e,n,t){"use strict";t.r(n);t("0857"),t("14c6"),t("08c1"),t("4842"),t("d9fc");var a=t("6e6d"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],i=(t("7faf"),t("2877")),u={},c=Object(i["a"])(u,o,r,!1,null,null,null),s=c.exports,d=t("9883"),l=t("07a4"),f=t("20ad"),p=t.n(f),m=(t("8720"),t("2427"),t("a2f0"),t("a342"),t("eb30")),h=t.n(m);t("f1ac"),t("49a5");a["default"].prototype.$store=l["a"],a["default"].use(p.a),a["default"].prototype.$rules=h.a,a["default"].use(d["a"]),a["default"].config.productionTip=!1,d["a"].beforeEach(function(e,n,t){e.meta.isLoginToken?window.localStorage.getItem("token")?t():((new a["default"]).$message({showClose:!0,message:"当前登录已过期，请重新登录!",type:"warning"}),d["a"].push("/login")):t()}),a["default"].config.errorHandler=function(e,n,t){console.log("Error: ".concat(e.toString(),"\nInfo: ").concat(t))},new a["default"]({router:d["a"],store:l["a"],render:function(e){return e(s)}}).$mount("#app")},"641c":function(e,n,t){},"7ec9":function(e,n,t){},"7faf":function(e,n,t){"use strict";var a=t("7ec9"),o=t.n(a);o.a},9883:function(e,n,t){"use strict";var a=t("6e6d"),o=t("8b48"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"about"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"login-wrap"},[t("div",{staticClass:"ms-login"},[t("div",{staticClass:"ms-title"},[e._v("后台管理系统")]),t("form",{staticClass:"el-form ms-content"},[t("div",{staticClass:"el-form-item is-success is-required el-form-item--small"},[t("div",{staticClass:"el-form-item__content",staticStyle:{"margin-left":"0px"}},[t("div",{staticClass:"el-input el-input--small el-input-group el-input-group--prepend"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"请输入邮箱"},domProps:{value:e.email},on:{input:function(n){n.target.composing||(e.email=n.target.value)}}})])])]),t("div",{staticClass:"el-form-item is-success is-required el-form-item--small"},[t("div",{staticClass:"el-form-item__content",staticStyle:{"margin-left":"0px"}},[t("div",{staticClass:"el-input el-input--small el-input-group el-input-group--prepend"},[e._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"el-input__inner",attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(n){n.target.composing||(e.password=n.target.value)}}})])])]),t("div",{staticClass:"login-btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1),t("p",{staticClass:"login-tips"},[e._v("Tips : 欢迎登陆!")])])])])])},i=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"el-input-group__prepend"},[t("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"}},[t("i",{staticClass:"el-icon-user"})])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"el-input-group__prepend"},[t("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"}},[t("i",{staticClass:"el-icon-goods"})])])}],u=t("07a4"),c=t("365c"),s=(t("49a5"),{data:function(){return{email:"9952@qq.com",password:"123456",loading:u["a"].state.isLodingLogin}},name:"login",methods:{login:function(){var e=this,n=this.email,t=this.password;return n&&t?t.length>=6&&t.length<=16?(u["a"].state.isLodingLogin=!0,void Object(c["j"])({email:n,password:t}).then(function(n){200==n.code?(localStorage.setItem("token",n.data.access_token),Object(c["i"])().then(function(e){200==e.data.code&&window.localStorage.setItem("userInfo",JSON.stringify(e.data.data))}),setTimeout(function(){u["a"].state.isLodingLogin=!1,e.$router.push("/basic"),e.$message({showClose:!0,message:"登录成功",type:"success"})},200)):setTimeout(function(){u["a"].state.isLodingLogin=!1,e.$message({showClose:!0,message:n.message,type:"error"}),e.email=e.password=""},200)})):(this.password="",this.$message({message:"密码长度为6-16位数字或字母",type:"warning"})):this.$message({message:"邮箱和密码不能为空",type:"warning"})}},computed:{isLoading:function(){return u["a"].state.isLodingLogin}},created:function(){}}),d=s,l=(t("0e06"),t("2877")),f=Object(l["a"])(d,r,i,!1,null,"2aefc799",null),p=f.exports;a["default"].use(o["a"]);n["a"]=new o["a"]({mode:"hash",base:"",routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:p},{path:"/menuList",name:"menuList",component:function(){return t.e("chunk-5e938b57").then(t.bind(null,"23b4"))},meta:{isLoginToken:!0},children:[{path:"/orderList",name:"orderList",meta:{isLoginToken:!0},component:function(){return t.e("chunk-18155327").then(t.bind(null,"3174"))}},{path:"/about",name:"about",meta:{isLoginToken:!0},component:function(){return t.e("chunk-2d22d746").then(t.bind(null,"f820"))}},{path:"/admin",name:"ManageList",meta:{isLoginToken:!0},component:function(){return t.e("chunk-93dac020").then(t.bind(null,"813c"))}},{path:"/role",name:"RoleList",meta:{isLoginToken:!0},component:function(){return t.e("chunk-9f5277b4").then(t.bind(null,"4b6c"))}},{path:"/assignRoleList",name:"assignRoleList",meta:{isLoginToken:!0},component:function(){return t.e("chunk-4976cb36").then(t.bind(null,"0829"))}},{path:"/permission",name:"accessConfig",meta:{isLoginToken:!0},component:function(){return t.e("chunk-e80a73aa").then(t.bind(null,"2a5f"))}},{path:"/form",name:"form",meta:{isLoginToken:!0},component:function(){return t.e("chunk-2d215fad").then(t.bind(null,"c109"))}},{path:"/appManage",name:"appManage",meta:{isLoginToken:!0},component:function(){return t.e("chunk-66d407a8").then(t.bind(null,"3ad6"))}},{path:"/basic",name:"basicSetup",meta:{isLoginToken:!0},component:function(){return t.e("chunk-04c59f69").then(t.bind(null,"124d"))}},{path:"/email",name:"emailSetting",meta:{isLoginToken:!0},component:function(){return t.e("chunk-4d79cdd3").then(t.bind(null,"a230"))}},{path:"/scheduleTask",name:"scheduleTask",meta:{isLoginToken:!0},component:function(){return t.e("chunk-0f12f62e").then(t.bind(null,"8435"))}},{path:"/phone",name:"mobilePhoneSet",meta:{isLoginToken:!0},component:function(){return t.e("chunk-14cdecf6").then(t.bind(null,"51c5"))}},{path:"/admin/reset",name:"changePwd",meta:{isLoginToken:!0},component:function(){return t.e("chunk-8b49f880").then(t.bind(null,"eb7f"))}},{path:"/messageSet",name:"messageSet",meta:{isLoginToken:!0},component:function(){return t.e("chunk-7afdcc78").then(t.bind(null,"4fba"))}},{path:"/merchant",name:"accountManage",meta:{isLoginToken:!0},component:function(){return t.e("chunk-c9910344").then(t.bind(null,"2d06"))}}]}]})},a2f0:function(e,n,t){},a342:function(e,n,t){},eb30:function(e,n){var t=/^(?![0-9]*$)(?![a-zA-Z]*$)[a-zA-Z0-9]{6,20}$/,a=/^[1][3,4,5,6,7,8,9][0-9]{9}$/,o=/^\d+$|^\d+[.]?\d+$/,r=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){6,20}$/,i=/^[\u0391-\uFFE5A-Za-z]+$/,u=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,c=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,s=/[\u4e00-\u9fa5]/gm,d=/^[1-9][0-9]{4,}$/,l=/^[a-z]+$/i,f=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,p=/^[a-z0-9]+$/i,m=function(){function e(){}return e.Form=function(){return{validateCode:function(e,n,a){if(!n)return a(new Error("请输入账号"));t.test(n)?a():a(new Error("账号必须为6-20位字母和数字组合"))},validateChinese:function(e,n,t){""!==n?s.test(n)?t():t(new Error("必须为中文字符")):t("不能为空")},validateEnglish:function(e,n,t){""!==n?l.test(n)?t():t(new Error("必须为英文字符")):t("不能为空")},validateNumber:function(e,n,t){""!==n?o.test(n)?t():t(new Error("必须为数字")):t("不能为空")},validatePsdReg:function(e,n,t){if(!n)return t(new Error("请输入密码"));r.test(n)?t():t(new Error("请输入6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种"))},validateContacts:function(e,n,t){if(!n)return t(new Error("请输入联系人"));i.test(n)?t():t(new Error("联系人不可输入特殊字符"))},validateEmail:function(e,n,t){""!==n?c.test(n)?t():t(new Error("邮箱格式不正确")):t(new Error("邮箱不能为空"))},validatePhone:function(e,n,t){if(!n)return t(new Error("请输入手机号码"));a.test(n)?t():t(new Error("手机格式不正确"))},ID:function(e,n,t){if(!n)return t(new Error("身份证不能为空"));u.test(n)?t():t(new Error("请输入正确的二代身份证号码"))},validateQQ:function(e,n,t){if(!n)return t(new Error("qq号码不能为空"));d.test(n)?t():t(new Error("请输入正确的qq号码"))},validateIp:function(e,n,t){if(!n)return t(new Error("不能为空"));f.test(n)?t():t(new Error("请输入正确的IP"))},validateAccess:function(e,n,t){if(!n)return t(new Error("不能为空"));p.test(n)?t():t(new Error("只能由英文和数字组成"))}}},e}();n.FormValidate=m}});
//# sourceMappingURL=app.128071c4.js.map