(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f5277b4"],{"2f57":function(e,t,a){},"4b6c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bor"},[a("div",[a("el-button",{staticClass:"myAdd_btn fl",attrs:{type:"success"},on:{click:e.addAdminUser}},[e._v("添加角色")])],1),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"#"}}),a("el-table-column",{attrs:{prop:"name",label:"角色名称"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#67c23a","inactive-color":"#dcdfe6"},on:{change:function(a){return e.handleStatus(t.$index,t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleRole(t.$index,t.row)}}},[e._v("分配权限")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"myDeleteColor",attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":+e.currentPage,background:"","page-sizes":[20,50,100,200],"page-size":+e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:+e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{staticClass:"text-left addClass",attrs:{title:"编辑信息",width:"490px",visible:e.outerVisible},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{staticClass:"my_form_inp",attrs:{label:"角色名称: ","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入角色名称",autocomplete:"off"},model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}})],1),a("el-form-item",{staticClass:"my_form_inp",attrs:{label:"是否验证: ","label-width":e.formLabelWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.editStatus,callback:function(t){e.editStatus=t},expression:"editStatus"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"mybtAdd",on:{click:function(t){e.outerVisible=!1}}},[e._v("取 消")]),a("el-button",{staticClass:"mybtAdd",attrs:{type:"primary"},on:{click:e.isUpdate}},[e._v("修 改")])],1)],1),a("el-dialog",{staticClass:"text-left addClass",attrs:{title:"添加信息",width:"490px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{staticClass:"my_form_inp",attrs:{label:"角色名称: ","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入角色名称",autocomplete:"off"},model:{value:e.roleName,callback:function(t){e.roleName=t},expression:"roleName"}})],1),a("el-form-item",{staticClass:"my_form_inp",attrs:{label:"是否验证: ","label-width":e.formLabelWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.roleStatus,callback:function(t){e.roleStatus=t},expression:"roleStatus"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"mybtAdd",on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{staticClass:"mybtAdd",attrs:{type:"primary"},on:{click:e.isAddUser}},[e._v("保 存")])],1)],1)],1)])},i=[],s=(a("7364"),a("49a5"),a("c195"),a("365c")),l={name:"AdminUser",data:function(){return{roleName:"",roleStatus:!0,editName:"",editStatus:"",id:"",currentPage:"",total:"",pageSize:10,tableData:[],outerVisible:!1,innerVisible:!1,value9:"",input10:"",dialogFormVisible:!1,form:{name:""},formLabelWidth:"100px",sexOptions:[{value:"1",label:"男"},{value:"0",label:"女"}],sexValue:"男",stateOptions:[{value:"1",label:"启用"},{value:"0",label:"禁用"},{value:"2",label:"全部"}],stateValue:"全部",addValue:!0,editValue:!0}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;Object(s["g"])().then(function(t){var a=t.data.data.data,n=t.data.data;if(e.currentPage=n.current_page,e.total=n.total,e.pageSize=n.per_page,a.length>0){for(var i=[],s=0;s<a.length;s++)i.push({id:a[s].id,name:a[s].name,status:!!a[s].status,permissions:a[s].permissions,is_manager:a[s].is_manager});e.tableData=i}})},formatter:function(e,t){return e.address},handleRole:function(e,t){this.$router.push({path:"/assignRoleList",query:{id:t.id,permissions:t.permissions,name:t.name,status:t.status?1:0,is_manager:t.is_manager?1:0}})},handleStatus:function(e,t){var a=this;Object(s["b"])("api/role/toggle/"+t.id).then(function(e){a.getTableData(),a.$message({message:"状态修改成功",type:"success"})})},handleEdit:function(e,t){this.editName=t.name,t.is_manager?this.editStatus=!0:this.editStatus=!1,this.id=t.id,this.outerVisible=!0},handleDelete:function(e,t){var a=this;this.$confirm("确定删除 ".concat(t.name," 吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["a"])("api/role/"+t.id).then(function(e){a.getTableData(),a.$message({message:"删除成功",type:"success"})}).catch(function(e){a.$message({message:"删除失败",type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},isUpdate:function(){var e=this,t={id:this.id,name:this.editName,is_manager:this.editStatus?1:0};this.$confirm("确定修改吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["f"])(t).then(function(t){e.$message({message:"编辑成功",type:"success"})}).catch(function(t){e.$message({message:"编辑失败",type:"error"})}),e.outerVisible=!1}).catch(function(){e.$message({type:"info",message:"已取消修改"}),e.outerVisible=!1})},handleSizeChange:function(e){var t=this,a={per_page:e};Object(s["b"])("api/role/",a).then(function(e){var a=e.data.data.data,n=e.data.data;if(t.currentPage=n.current_page,t.total=n.total,t.pageSize=n.per_page,a.length>0){for(var i=[],s=0;s<a.length;s++)i.push({id:a[s].id,name:a[s].name,status:a[s].status,permissions:a[s].permissions,is_manager:!!a[s].is_manager});t.tableData=i}})},handleCurrentChange:function(e){var t=this,a={page:e};Object(s["h"])(a).then(function(e){var a=e.data.data.data,n=e.data.data;if(t.currentPage=n.current_page,t.total=n.total,t.pageSize=n.per_page,a.length>0){for(var i=[],s=0;s<a.length;s++)i.push({id:a[s].id,name:a[s].name,status:a[s].status,permissions:a[s].permissions,is_manager:!!a[s].is_manager});t.tableData=i}})},addAdminUser:function(){this.dialogFormVisible=!0},isAddUser:function(){var e,t=this;e=this.roleStatus?1:0;var a={name:this.roleName,is_manager:e};Object(s["e"])(a).then(function(e){t.dialogFormVisible=!1,t.$message({message:"添加成功",type:"success"})}).catch(function(e){t.$message({message:"添加失败",type:"error"})})}},watch:{}},r=l,o=(a("5083"),a("2877")),c=Object(o["a"])(r,n,i,!1,null,"858a4686",null);t["default"]=c.exports},5083:function(e,t,a){"use strict";var n=a("2f57"),i=a.n(n);i.a},7364:function(e,t,a){var n=a("ddf7").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,l="name";l in i||a("dad2")&&n(i,l,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},c195:function(e,t,a){
/*!
* screenfull
* v4.2.1 - 2019-07-27
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},a=e.exports,n="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=a.length,s={};n<i;n++)if(e=a[n],e&&e[1]in t){for(n=0;n<e.length;n++)s[a[0][n]]=e[n];return s}return!1}(),s={change:i.fullscreenchange,error:i.fullscreenerror},l={request:function(e){return new Promise(function(a,s){var l,r=i.requestFullscreen,o=function(){this.off("change",o),a()}.bind(this);this.on("change",o),e=e||t.documentElement,l=/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[r]():e[r](n?Element.ALLOW_KEYBOARD_INPUT:{}),Promise.resolve(l).catch(s)}.bind(this))},exit:function(){return new Promise(function(e){if(this.isFullscreen){var a=function(){this.off("change",a),e()}.bind(this);t[i.exitFullscreen](),this.on("change",a)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,a){var n=s[e];n&&t.addEventListener(n,a,!1)},off:function(e,a){var n=s[e];n&&t.removeEventListener(n,a,!1)},raw:i};i?(Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(t[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[i.fullscreenEnabled])}}}),a?(e.exports=l,e.exports.default=l):window.screenfull=l):a?e.exports=!1:window.screenfull=!1})()}}]);
//# sourceMappingURL=chunk-9f5277b4.975279b1.js.map